<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Crear Contrase침a</title>
  <link rel="stylesheet" href="crear-clave.css" />
  <!-- Font Awesome para 칤conos institucionales -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
</head>
<body class="fondo-datos">
  <div class="formulario-clave">
    <img src="img/LogoAlcaldia.png" alt="Logo Alcald칤a" class="logo" />

    <h2>Crear Contrase침a</h2>
    <p>Defina su nueva contrase침a. An칩tela o gu치rdela para poder recordarla.</p>

    <div class="input-password">
      <input type="password" id="nuevaClave" placeholder="Nueva contrase침a" required />
    </div>

    <!-- Bot칩n para mostrar/ocultar requisitos -->
    <button type="button" id="btnToggleRequisitos" class="btn-toggle-requisitos">
      游댌 Ver requisitos
    </button>

    <!-- Checklist din치mico de requisitos (oculto por defecto) -->
    <div class="requisitos" id="bloqueRequisitos" style="display: none;">
      <div class="req-item" id="req-length">
        <i class="fas fa-circle"></i>
        <span>M칤nimo 8 caracteres</span>
      </div>
      <div class="req-item" id="req-upper">
        <i class="fas fa-circle"></i>
        <span>Al menos una may칰scula</span>
      </div>
      <div class="req-item" id="req-lower">
        <i class="fas fa-circle"></i>
        <span>Al menos una min칰scula</span>
      </div>
      <div class="req-item" id="req-number">
        <i class="fas fa-circle"></i>
        <span>Al menos un n칰mero</span>
      </div>
      <div class="req-item" id="req-special">
        <i class="fas fa-circle"></i>
        <span>Al menos un s칤mbolo (!@#$%&*?)</span>
      </div>
    </div>

    <button id="btnGuardar" onclick="crearClave()">Guardar contrase침a</button>
  </div>

  <!-- Modal de error: contrase침a inv치lida -->
  <div id="modalErrorClave" class="modal-error-clave" style="display: none;">
    <div class="modal-error-contenido">
      <div class="icono-error">
        <i class="fas fa-exclamation-triangle"></i>
      </div>
      <h3>Contrase침a inv치lida</h3>
      <p>Verifique que cumpla todos los requisitos marcados.</p>
      <button onclick="cerrarModalError()" class="btn-cerrar-error">Entendido</button>
    </div>
  </div>

  <!-- Modal de 칠xito: contrase침a creada -->
  <div id="modalExitoClave" class="modal-exito-clave" style="display: none;">
    <div class="modal-exito-contenido">
      <div class="icono-exito-clave">
        <i class="fas fa-shield-check"></i>
      </div>
      <h2>춰Contrase침a creada exitosamente!</h2>
      <p>Ahora puedes acceder al sistema con tu nueva clave institucional.</p>
      <button onclick="continuarFlujoAcceso()" class="btn-exito-clave">Aceptar</button>
    </div>
  </div>

  <!-- Modal final: acceso autorizado -->
  <div id="modalAccesoAutorizado" class="modal-acceso-autorizado" style="display: none;">
    <div class="modal-acceso-contenido">
      <div class="icono-acceso">
        <i class="fas fa-certificate"></i>
      </div>
      <h2>춰Acceso autorizado!</h2>
      <p id="mensajeBienvenida">Bienvenido Usuario, en breve acceder치 al sistema institucional.</p>
      <button onclick="redirigirAlSistema()" class="btn-continuar">Continuar</button>
    </div>
  </div>

  <script src="crear-clave.js"></script>
</body>
</html>
